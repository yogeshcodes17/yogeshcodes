"use strict";(self.webpackChunkwiki_docusaurus=self.webpackChunkwiki_docusaurus||[]).push([[1449],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,g=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return n?o.createElement(g,a(a({ref:t},p),{},{components:n})):o.createElement(g,a({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var c=2;c<i;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4033:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>i,contentTitle:()=>a,metadata:()=>s,toc:()=>l,default:()=>p});var o=n(7462),r=(n(7294),n(3905));const i={id:"js-ts-monorepo",title:"JavaScript and TypeScript Monorepos"},a=void 0,s={unversionedId:"tech-notes/js-ts-monorepo",id:"tech-notes/js-ts-monorepo",title:"JavaScript and TypeScript Monorepos",description:"Monorepo",source:"@site/docs/tech-notes/js-ts-monorepo.md",sourceDirName:"tech-notes",slug:"/tech-notes/js-ts-monorepo",permalink:"/yogeshcodes/tech-notes/js-ts-monorepo",tags:[],version:"current",frontMatter:{id:"js-ts-monorepo",title:"JavaScript and TypeScript Monorepos"},sidebar:"docs",previous:{title:"Tech Notes",permalink:"/yogeshcodes/category/tech-notes"},next:{title:"Design Systems with Storybook",permalink:"/yogeshcodes/tech-notes/design-system-storybook"}},l=[{value:"Monorepo",id:"monorepo",children:[],level:2},{value:"Naming conventions",id:"naming-conventions",children:[],level:2},{value:"Workspaces",id:"workspaces",children:[],level:2},{value:"Tsconfig",id:"tsconfig",children:[],level:2}],c={toc:l};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"monorepo"},"Monorepo"),(0,r.kt)("p",null,"One repo, many related TS/JS packages co-located in a git repo."),(0,r.kt)("p",null,"Destructuring big code base into small chunks/package\nLow-level \u2192 High level\nTypes, Utilities, Data layer will help to build the main Web UI package."),(0,r.kt)("p",null,"The small chunks will be fully encapsulated, so this will reduce the maintenance. It will open the way for better collaborative work. "),(0,r.kt)("h2",{id:"naming-conventions"},"Naming conventions"),(0,r.kt)("p",null,"@shlack/types - will be used for common mono repos @shlack will be the common repository holding many sub packages this is also very easy to host this in npm registry."),(0,r.kt)("h2",{id:"workspaces"},"Workspaces"),(0,r.kt)("p",null,"Installing dependencies in packages will install in root and import in local dependency and it's because of ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/api/modules.html#modules_all_together"},"this")),(0,r.kt)("h2",{id:"tsconfig"},"Tsconfig"),(0,r.kt)("p",null,"instead of using separate tsconfig.json content for each package we could reuse it by putting one in top level and extending the tsconfig.json in package level"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create tsconfig.settings.json file in root and create tsconfig.json file in package level"),(0,r.kt)("li",{parentName:"ol"},"Use this property in the package tsconfig file ",(0,r.kt)("inlineCode",{parentName:"li"},'"extends": "../tsconfig.settings.json",')),(0,r.kt)("li",{parentName:"ol"},"More importantly add composite: true in the compilerOptions in tsconfig ")),(0,r.kt)("p",null,"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'{\n  "extends": "../tsconfig.settings.json",\n  "compilerOptions": {\n    "composite": true,\n    "outDir": "dist",\n    "rootDir": "src"\n  },\n  "include": ["src"]\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"We can create a tsconfig file in packages directory and use that to run the all packages.")," "),(0,r.kt)("p",null,"The root file will look like this"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'{\n  "references": [{ "path": "types" }, { "path": "utils" }],\n  "files": []\n}\n')),(0,r.kt)("p",null,"Little confusion on composite and how one link to another one"))}p.isMDXComponent=!0}}]);